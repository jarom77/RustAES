main: src/main.rs
	rustc $<

# run FIPS test vectors
test: main src/main.rs
	./aesTest.sh 00112233445566778899aabbccddeeff 69c4e0d86a7b0430d8cdb78070b4c55a 000102030405060708090a0b0c0d0e0f 128
	./aesTest.sh 00112233445566778899aabbccddeeff dda97ca4864cdfe06eaf70a0ec0d7191 000102030405060708090a0b0c0d0e0f1011121314151617 192
	./aesTest.sh 00112233445566778899aabbccddeeff 8ea2b7ca516745bfeafc49904b496089 000102030405060708090a0b0c0d0e0f101112131415161718191a1b1c1d1e1f 256
	./main -ev 00112233445566778899aabbccddeeff 000102030405060708090a0b0c0d0e0f101112131415161718191a1b1c1d1e1f 256

src/main.rs: src/aes.rs
src/aes.rs: src/aes/*.rs
src/aes/aes_round.rs: src/aes/aes_round/*.rs
